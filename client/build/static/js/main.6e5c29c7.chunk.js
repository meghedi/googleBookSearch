(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){e.exports=n(67)},43:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(30),l=n.n(r),c=(n(43),n(6)),i=n(7),s=n(31),u=n(16),m=n(32),h=n(33),v=n(37),d=n(36);var f=function(e){return o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"search"},"Search:"),o.a.createElement("input",{onChange:e.handleInputChange,value:e.search,name:"search",type:"text",className:"form-control",placeholder:"Search for a Book",id:"search"}),o.a.createElement("button",{onClick:e.handleFormSubmit,className:"btn btn-primary mt-3"},"Search")))},p={buttonStyle:{position:"absolute",top:5,right:5},mediaStyle:{position:"relative"}};var b=function(e){var t=e.title,n=e.authors,a=e.imgsrc,r=e.description,l=e.previewLink,c=e.handlesavebook;return o.a.createElement("div",{className:"media"},o.a.createElement("img",{className:"mr-3",src:a,alt:t}),o.a.createElement("div",{className:"media-body"},o.a.createElement("h5",{className:"mt-0"},o.a.createElement("a",{href:l,target:"_blank"},t)),n.map((function(e){return o.a.createElement("h6",{key:e},"written by ",e)})),r),o.a.createElement("button",{type:"button",id:"btnSave",style:p.buttonStyle,className:"btn btn-default",onClick:c},"Save"))};var E=function(e){return o.a.createElement(o.a.Fragment,null,e.results.length?o.a.createElement("ul",{className:"list-group"},e.results.map((function(t){return o.a.createElement("li",{className:"list-group-item mb-3",key:t.id},o.a.createElement(b,{title:t.volumeInfo.title,imgsrc:t.volumeInfo.imageLinks.thumbnail,authors:t.volumeInfo.authors,description:t.volumeInfo.description,previewLink:t.volumeInfo.previewLink,handlesavebook:function(){return e.handleSaveBook({title:t.volumeInfo.title,authors:t.volumeInfo.authors,image:t.volumeInfo.imageLinks.thumbnail,description:t.volumeInfo.description,link:t.volumeInfo.previewLink})}}))}))):o.a.createElement("h3",null,"No Results to Display"))},k=n(10),g=n.n(k),w=function(e){return g.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},y=function(){return g.a.get("/api/books")},N=function(e){return g.a.get("/api/books/"+e)},S=function(e){return g.a.delete("/api/books/"+e)},j=function(e){return g.a.post("/api/books",e)},B=function(e){Object(v.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this)).searchBooks=function(t){w(t).then((function(t){console.log(t.data.items),e.setState({results:t.data.items})})).catch((function(e){return console.log(e)}))},e.saveBook=function(t){console.log(t),j(t).then((function(n){return e.setState((function(e){return{saved:[].concat(Object(u.a)(e.saved),[t])}}))})).catch((function(e){return console.log(e)}))},e.handleInputChange=function(t){var n=t.target,a=n.name,o=n.value;e.setState(Object(s.a)({},a,o))},e.handleFormSubmit=function(t){t.preventDefault(),e.searchBooks(e.state.search)},e.handleSaveBook=function(t){e.saveBook(t)},e.state={search:"",results:[],saved:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){"/"===window.location.pathname?this.searchBooks("Harry Potter"):this.searchBooks("")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(f,{search:this.state.search,handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange}),o.a.createElement(E,{results:this.state.results,handleSaveBook:this.handleSaveBook,saved:this.state.saved}))}}]),n}(a.Component);var I=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"jumbotron text-center"},o.a.createElement("h1",{className:"display-4"},"(React) Google Books Search"),o.a.createElement("p",{className:"lead"},"Search for and Save Books for Interest")),o.a.createElement("div",null,e.children))};var O=function(e){return o.a.createElement(I,null,o.a.createElement(B,null))},x=n(9),L=n.n(x),C=n(14),D=n(15),F={buttonStyle:{position:"absolute",top:5,right:5},mediaStyle:{position:"relative"},buttonStyle2:{position:"absolute",top:8,right:90,color:"#333"}};var _=function(e){var t=e.id,n=e.title,a=e.authors,r=e.imgsrc,l=e.description,i=e.previewLink,s=e.handleDeleteBook;return o.a.createElement("div",{className:"media"},o.a.createElement("img",{className:"mr-3",src:r,alt:n}),o.a.createElement("div",{className:"media-body"},o.a.createElement("h5",{className:"mt-0"},o.a.createElement("a",{href:i,target:"_blank"},n)),a.map((function(e){return o.a.createElement("h6",null,"written by ",e)})),l),"/saved"===window.location.pathname?o.a.createElement("div",null,o.a.createElement(c.b,{to:"/books/"+t,className:"btn btn-default",style:F.buttonStyle2},"View"),o.a.createElement("button",{type:"button",id:"btnDelete",style:F.buttonStyle,className:"btn btn-danger",onClick:function(){return s(t)}},"Delete")):o.a.createElement("p",null))};var R=function(){var e=Object(a.useState)([]),t=Object(D.a)(e,2),n=t[0],r=t[1];function l(){(function(){var e=Object(C.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,r(Object(u.a)(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}function c(e){S(e).then((function(){return l()})).catch((function(e){return console.log(e)}))}return Object(a.useEffect)((function(){l()}),[]),o.a.createElement("div",null,n.length?o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{className:"list-group-item mb-3",key:e._id},o.a.createElement(_,{title:e.title,imgsrc:e.image,authors:e.authors,description:e.description,previewLink:e.link,handleDeleteBook:c,id:e._id}))}))):o.a.createElement("h3",null,"No Results to Display"))};var W=function(e){return o.a.createElement(I,null,o.a.createElement(R,null))};var H=function(e){var t=e.match.params.id,n=Object(a.useState)([]),r=Object(D.a)(n,2),l=r[0],c=r[1];return Object(a.useEffect)((function(){!function(){var e=Object(C.a)(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:n=e.sent,c([n.data]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),o.a.createElement(I,null,o.a.createElement("div",null,o.a.createElement("ul",null,l.map((function(e){return o.a.createElement("li",{className:"list-group-item mb-3",key:e._id},o.a.createElement(_,{title:e.title,imgsrc:e.image,authors:e.authors,description:e.description,previewLink:e.link}))})))))};var J=function(){return o.a.createElement("ul",{className:"nav nav-tabs nav-fill"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{to:"/",className:"/"===window.location.pathname?"nav-link active":"nav-link"},"Home")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{to:"/search",className:"/search"===window.location.pathname?"nav-link active":"nav-link"},"Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{to:"/saved",className:"/saved"===window.location.pathname?"nav-link active":"nav-link"},"Saved")))};var q=function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(J,null),o.a.createElement(i.a,{exact:!0,path:"/",component:O}),o.a.createElement(i.a,{exact:!0,path:"/search",component:O}),o.a.createElement(i.a,{exact:!0,path:"/saved",component:W}),o.a.createElement(i.a,{exact:!0,path:"/books/:id",component:H})))},A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");A?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):G(e)}))}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.6e5c29c7.chunk.js.map